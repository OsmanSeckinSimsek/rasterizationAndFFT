<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rasterizationAndFFT + Cornerstone API: cstone::Domain&lt; KeyType, T, Accelerator &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">rasterizationAndFFT + Cornerstone API
   </div>
   <div id="projectbrief">Distributed octree domain, rasterization, and FFT utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcstone_1_1Domain.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcstone_1_1Domain-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cstone::Domain&lt; KeyType, T, Accelerator &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="domain_8hpp_source.html">domain.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aad41628ddc22c8e186b6516895d8fc29" id="r_aad41628ddc22c8e186b6516895d8fc29"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#aad41628ddc22c8e186b6516895d8fc29">RealType</a> = T</td></tr>
<tr class="memdesc:aad41628ddc22c8e186b6516895d8fc29"><td class="mdescLeft">&#160;</td><td class="mdescRight">floating point type used for the coordinate bounding box and geometric/mass centers of tree nodes  <br /></td></tr>
<tr class="separator:aad41628ddc22c8e186b6516895d8fc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a689ad3851a37dd9756bc2ed55ddc3c17" id="r_a689ad3851a37dd9756bc2ed55ddc3c17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a689ad3851a37dd9756bc2ed55ddc3c17">Domain</a> (int rank, int nRanks, unsigned bucketSize, unsigned bucketSizeFocus, float theta, const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp;<a class="el" href="classcstone_1_1Domain.html#a643b759df9b18b0e516866093602a4e8">box</a>=<a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt;{0, 1})</td></tr>
<tr class="memdesc:a689ad3851a37dd9756bc2ed55ddc3c17"><td class="mdescLeft">&#160;</td><td class="mdescRight">construct empty <a class="el" href="classcstone_1_1Domain.html">Domain</a>  <br /></td></tr>
<tr class="separator:a689ad3851a37dd9756bc2ed55ddc3c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cde838c83f85f9929a913d02f081da" id="r_a81cde838c83f85f9929a913d02f081da"><td class="memTemplParams" colspan="2">template&lt;class KeyVec , class VectorX , class VectorH , class... Vectors1, class... Vectors2&gt; </td></tr>
<tr class="memitem:a81cde838c83f85f9929a913d02f081da"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a81cde838c83f85f9929a913d02f081da">sync</a> (KeyVec &amp;particleKeys, VectorX &amp;x, VectorX &amp;y, VectorX &amp;z, VectorH &amp;h, std::tuple&lt; Vectors1 &amp;... &gt; particleProperties, std::tuple&lt; Vectors2 &amp;... &gt; scratchBuffers)</td></tr>
<tr class="memdesc:a81cde838c83f85f9929a913d02f081da"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcstone_1_1Domain.html">Domain</a> update sequence for particles with coordinates x,y,z, interaction radius h and their properties.  <br /></td></tr>
<tr class="separator:a81cde838c83f85f9929a913d02f081da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d706506965f56bf319042883e197e8c" id="r_a7d706506965f56bf319042883e197e8c"><td class="memTemplParams" colspan="2">template&lt;class KeyVec , class VectorX , class VectorH , class VectorM , class... Vectors1, class... Vectors2&gt; </td></tr>
<tr class="memitem:a7d706506965f56bf319042883e197e8c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a7d706506965f56bf319042883e197e8c">syncGrav</a> (KeyVec &amp;particleKeys, VectorX &amp;x, VectorX &amp;y, VectorX &amp;z, VectorH &amp;h, VectorM &amp;m, std::tuple&lt; Vectors1 &amp;... &gt; particleProperties, std::tuple&lt; Vectors2 &amp;... &gt; scratchBuffers)</td></tr>
<tr class="separator:a7d706506965f56bf319042883e197e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0097775952e56d8e610ada814b3ba27d" id="r_a0097775952e56d8e610ada814b3ba27d"><td class="memTemplParams" colspan="2">template&lt;class... Vectors, class SendBuffer , class ReceiveBuffer , class OVec &gt; </td></tr>
<tr class="memitem:a0097775952e56d8e610ada814b3ba27d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a0097775952e56d8e610ada814b3ba27d">reapplySync</a> (std::tuple&lt; Vectors &amp;... &gt; arrays, SendBuffer &amp;sendBuffer, ReceiveBuffer &amp;receiveBuffer, OVec &amp;ordering) const</td></tr>
<tr class="memdesc:a0097775952e56d8e610ada814b3ba27d"><td class="mdescLeft">&#160;</td><td class="mdescRight">reapply exchange synchronization pattern from previous call to sync(Grav)() to additional particle fields  <br /></td></tr>
<tr class="separator:a0097775952e56d8e610ada814b3ba27d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c45383c1e8be65a9f9f8c114ce1667" id="r_a27c45383c1e8be65a9f9f8c114ce1667"><td class="memTemplParams" colspan="2">template&lt;class... Vectors, class SendBuffer , class ReceiveBuffer &gt; </td></tr>
<tr class="memitem:a27c45383c1e8be65a9f9f8c114ce1667"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a27c45383c1e8be65a9f9f8c114ce1667">exchangeHalos</a> (std::tuple&lt; Vectors &amp;... &gt; arrays, SendBuffer &amp;sendBuffer, ReceiveBuffer &amp;receiveBuffer) const</td></tr>
<tr class="memdesc:a27c45383c1e8be65a9f9f8c114ce1667"><td class="mdescLeft">&#160;</td><td class="mdescRight">repeat the halo exchange pattern from the previous sync operation for a different set of arrays  <br /></td></tr>
<tr class="separator:a27c45383c1e8be65a9f9f8c114ce1667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a728fdcbe873b26a272b1a1a85295e20c" id="r_a728fdcbe873b26a272b1a1a85295e20c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a728fdcbe873b26a272b1a1a85295e20c">startIndex</a> () const</td></tr>
<tr class="memdesc:a728fdcbe873b26a272b1a1a85295e20c"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the index of the first particle that's part of the local assignment  <br /></td></tr>
<tr class="separator:a728fdcbe873b26a272b1a1a85295e20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c5b1a9124a8d578b6f4b4258752629" id="r_a73c5b1a9124a8d578b6f4b4258752629"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a73c5b1a9124a8d578b6f4b4258752629">endIndex</a> () const</td></tr>
<tr class="memdesc:a73c5b1a9124a8d578b6f4b4258752629"><td class="mdescLeft">&#160;</td><td class="mdescRight">return one past the index of the last particle that's part of the local assignment  <br /></td></tr>
<tr class="separator:a73c5b1a9124a8d578b6f4b4258752629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be0282aaf5a3efd52c3f85fdf89df66" id="r_a0be0282aaf5a3efd52c3f85fdf89df66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a0be0282aaf5a3efd52c3f85fdf89df66">setEndIndex</a> (const size_t i)</td></tr>
<tr class="memdesc:a0be0282aaf5a3efd52c3f85fdf89df66"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the index of the lsat particle (used to increase the number of particles)  <br /></td></tr>
<tr class="separator:a0be0282aaf5a3efd52c3f85fdf89df66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90b71b62e6f107701472cea49a01b88" id="r_ab90b71b62e6f107701472cea49a01b88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#ab90b71b62e6f107701472cea49a01b88">nParticles</a> () const</td></tr>
<tr class="memdesc:ab90b71b62e6f107701472cea49a01b88"><td class="mdescLeft">&#160;</td><td class="mdescRight">return number of locally assigned particles  <br /></td></tr>
<tr class="separator:ab90b71b62e6f107701472cea49a01b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857cb499be5721e97c55724441f986a7" id="r_a857cb499be5721e97c55724441f986a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a857cb499be5721e97c55724441f986a7">nParticlesWithHalos</a> () const</td></tr>
<tr class="memdesc:a857cb499be5721e97c55724441f986a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">return number of locally assigned particles plus number of halos  <br /></td></tr>
<tr class="separator:a857cb499be5721e97c55724441f986a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106b7520b2754c4380f93f4fa64f4c0c" id="r_a106b7520b2754c4380f93f4fa64f4c0c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcstone_1_1Octree.html">Octree</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a106b7520b2754c4380f93f4fa64f4c0c">globalTree</a> () const</td></tr>
<tr class="memdesc:a106b7520b2754c4380f93f4fa64f4c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">read only visibility of the global octree leaves to the outside  <br /></td></tr>
<tr class="separator:a106b7520b2754c4380f93f4fa64f4c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37deed4fd8e35a81c4a00b1bd5e55038" id="r_a37deed4fd8e35a81c4a00b1bd5e55038"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcstone_1_1FocusedOctree.html">FocusedOctree</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a37deed4fd8e35a81c4a00b1bd5e55038">focusTree</a> () const</td></tr>
<tr class="memdesc:a37deed4fd8e35a81c4a00b1bd5e55038"><td class="mdescLeft">&#160;</td><td class="mdescRight">read only visibility of the focused octree  <br /></td></tr>
<tr class="separator:a37deed4fd8e35a81c4a00b1bd5e55038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c55a498fd4efbefe8cee4ecf7ddc9bd" id="r_a6c55a498fd4efbefe8cee4ecf7ddc9bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a6c55a498fd4efbefe8cee4ecf7ddc9bd">startCell</a> () const</td></tr>
<tr class="memdesc:a6c55a498fd4efbefe8cee4ecf7ddc9bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">the index of the first locally assigned cell in <a class="el" href="classcstone_1_1Domain.html#a37deed4fd8e35a81c4a00b1bd5e55038" title="read only visibility of the focused octree">focusTree()</a>  <br /></td></tr>
<tr class="separator:a6c55a498fd4efbefe8cee4ecf7ddc9bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d50dd3aaa51c41144d34e0afe764573" id="r_a4d50dd3aaa51c41144d34e0afe764573"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a4d50dd3aaa51c41144d34e0afe764573">endCell</a> () const</td></tr>
<tr class="memdesc:a4d50dd3aaa51c41144d34e0afe764573"><td class="mdescLeft">&#160;</td><td class="mdescRight">the index of the last locally assigned cell in <a class="el" href="classcstone_1_1Domain.html#a37deed4fd8e35a81c4a00b1bd5e55038" title="read only visibility of the focused octree">focusTree()</a>  <br /></td></tr>
<tr class="separator:a4d50dd3aaa51c41144d34e0afe764573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd481a12a6bf344a1e14b5a34fbefd5" id="r_a4bd481a12a6bf344a1e14b5a34fbefd5"><td class="memItemLeft" align="right" valign="top">gsl::span&lt; const <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a4bd481a12a6bf344a1e14b5a34fbefd5">layout</a> () const</td></tr>
<tr class="memdesc:a4bd481a12a6bf344a1e14b5a34fbefd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">particle offsets of each focus tree leaf cell  <br /></td></tr>
<tr class="separator:a4bd481a12a6bf344a1e14b5a34fbefd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643b759df9b18b0e516866093602a4e8" id="r_a643b759df9b18b0e516866093602a4e8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a643b759df9b18b0e516866093602a4e8">box</a> () const</td></tr>
<tr class="memdesc:a643b759df9b18b0e516866093602a4e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the coordinate bounding box from the previous sync call  <br /></td></tr>
<tr class="separator:a643b759df9b18b0e516866093602a4e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2875fa839f5f48051eefd772b92a6ee2" id="r_a2875fa839f5f48051eefd772b92a6ee2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcstone_1_1OctreeProperties.html">OctreeProperties</a>&lt; T, <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1Domain.html#a2875fa839f5f48051eefd772b92a6ee2">octreeProperties</a> () const</td></tr>
<tr class="separator:a2875fa839f5f48051eefd772b92a6ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aad41628ddc22c8e186b6516895d8fc29" name="aad41628ddc22c8e186b6516895d8fc29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad41628ddc22c8e186b6516895d8fc29">&#9670;&#160;</a></span>RealType</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::RealType =  T</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>floating point type used for the coordinate bounding box and geometric/mass centers of tree nodes </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a689ad3851a37dd9756bc2ed55ddc3c17" name="a689ad3851a37dd9756bc2ed55ddc3c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a689ad3851a37dd9756bc2ed55ddc3c17">&#9670;&#160;</a></span>Domain()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::Domain </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRanks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bucketSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bucketSizeFocus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>box</em> = <code><a class="el" href="classcstone_1_1Box.html">Box</a>&lt;T&gt;{0,&#160;1}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>construct empty <a class="el" href="classcstone_1_1Domain.html">Domain</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rank</td><td>executing rank </td></tr>
    <tr><td class="paramname">nRanks</td><td>number of ranks </td></tr>
    <tr><td class="paramname">bucketSize</td><td>build global tree for domain decomposition with max <em>bucketSize</em> particles per node </td></tr>
    <tr><td class="paramname">bucketSizeFocus</td><td>maximum number of particles per leaf node inside the assigned part of the SFC </td></tr>
    <tr><td class="paramname">theta</td><td>angle parameter to control focus resolution and gravity accuracy </td></tr>
    <tr><td class="paramname">box</td><td>global bounding box, default is non-pbc box for each periodic dimension in <em>box</em>, the coordinate min/max limits will never be changed for the lifetime of the <a class="el" href="classcstone_1_1Domain.html">Domain</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a643b759df9b18b0e516866093602a4e8" name="a643b759df9b18b0e516866093602a4e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a643b759df9b18b0e516866093602a4e8">&#9670;&#160;</a></span>box()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp; <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::box </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the coordinate bounding box from the previous sync call </p>

</div>
</div>
<a id="a4d50dd3aaa51c41144d34e0afe764573" name="a4d50dd3aaa51c41144d34e0afe764573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d50dd3aaa51c41144d34e0afe764573">&#9670;&#160;</a></span>endCell()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::endCell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the index of the last locally assigned cell in <a class="el" href="classcstone_1_1Domain.html#a37deed4fd8e35a81c4a00b1bd5e55038" title="read only visibility of the focused octree">focusTree()</a> </p>

</div>
</div>
<a id="a73c5b1a9124a8d578b6f4b4258752629" name="a73c5b1a9124a8d578b6f4b4258752629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c5b1a9124a8d578b6f4b4258752629">&#9670;&#160;</a></span>endIndex()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::endIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return one past the index of the last particle that's part of the local assignment </p>

</div>
</div>
<a id="a27c45383c1e8be65a9f9f8c114ce1667" name="a27c45383c1e8be65a9f9f8c114ce1667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27c45383c1e8be65a9f9f8c114ce1667">&#9670;&#160;</a></span>exchangeHalos()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<div class="memtemplate">
template&lt;class... Vectors, class SendBuffer , class ReceiveBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::exchangeHalos </td>
          <td>(</td>
          <td class="paramtype">std::tuple&lt; Vectors &amp;... &gt;&#160;</td>
          <td class="paramname"><em>arrays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SendBuffer &amp;&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ReceiveBuffer &amp;&#160;</td>
          <td class="paramname"><em>receiveBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>repeat the halo exchange pattern from the previous sync operation for a different set of arrays </p>

</div>
</div>
<a id="a37deed4fd8e35a81c4a00b1bd5e55038" name="a37deed4fd8e35a81c4a00b1bd5e55038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37deed4fd8e35a81c4a00b1bd5e55038">&#9670;&#160;</a></span>focusTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcstone_1_1FocusedOctree.html">FocusedOctree</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt; &amp; <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::focusTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>read only visibility of the focused octree </p>

</div>
</div>
<a id="a106b7520b2754c4380f93f4fa64f4c0c" name="a106b7520b2754c4380f93f4fa64f4c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a106b7520b2754c4380f93f4fa64f4c0c">&#9670;&#160;</a></span>globalTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcstone_1_1Octree.html">Octree</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt; &amp; <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::globalTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>read only visibility of the global octree leaves to the outside </p>

</div>
</div>
<a id="a4bd481a12a6bf344a1e14b5a34fbefd5" name="a4bd481a12a6bf344a1e14b5a34fbefd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bd481a12a6bf344a1e14b5a34fbefd5">&#9670;&#160;</a></span>layout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gsl::span&lt; const <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> &gt; <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::layout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>particle offsets of each focus tree leaf cell </p>

</div>
</div>
<a id="ab90b71b62e6f107701472cea49a01b88" name="ab90b71b62e6f107701472cea49a01b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90b71b62e6f107701472cea49a01b88">&#9670;&#160;</a></span>nParticles()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::nParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return number of locally assigned particles </p>

</div>
</div>
<a id="a857cb499be5721e97c55724441f986a7" name="a857cb499be5721e97c55724441f986a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a857cb499be5721e97c55724441f986a7">&#9670;&#160;</a></span>nParticlesWithHalos()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::nParticlesWithHalos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return number of locally assigned particles plus number of halos </p>

</div>
</div>
<a id="a2875fa839f5f48051eefd772b92a6ee2" name="a2875fa839f5f48051eefd772b92a6ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2875fa839f5f48051eefd772b92a6ee2">&#9670;&#160;</a></span>octreeProperties()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcstone_1_1OctreeProperties.html">OctreeProperties</a>&lt; T, <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt; <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::octreeProperties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0097775952e56d8e610ada814b3ba27d" name="a0097775952e56d8e610ada814b3ba27d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0097775952e56d8e610ada814b3ba27d">&#9670;&#160;</a></span>reapplySync()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<div class="memtemplate">
template&lt;class... Vectors, class SendBuffer , class ReceiveBuffer , class OVec &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::reapplySync </td>
          <td>(</td>
          <td class="paramtype">std::tuple&lt; Vectors &amp;... &gt;&#160;</td>
          <td class="paramname"><em>arrays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SendBuffer &amp;&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ReceiveBuffer &amp;&#160;</td>
          <td class="paramname"><em>receiveBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OVec &amp;&#160;</td>
          <td class="paramname"><em>ordering</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reapply exchange synchronization pattern from previous call to sync(Grav)() to additional particle fields </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">arrays</td><td>the arrays to reapply sync to, length prevBufDesc_.size </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">[-]</td><td>sendBuffer </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">[-]</td><td>receiveBuffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ordering</td><td>the post-particle-exchange SFC ordering </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0be0282aaf5a3efd52c3f85fdf89df66" name="a0be0282aaf5a3efd52c3f85fdf89df66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be0282aaf5a3efd52c3f85fdf89df66">&#9670;&#160;</a></span>setEndIndex()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::setEndIndex </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set the index of the lsat particle (used to increase the number of particles) </p>

</div>
</div>
<a id="a6c55a498fd4efbefe8cee4ecf7ddc9bd" name="a6c55a498fd4efbefe8cee4ecf7ddc9bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c55a498fd4efbefe8cee4ecf7ddc9bd">&#9670;&#160;</a></span>startCell()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::startCell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the index of the first locally assigned cell in <a class="el" href="classcstone_1_1Domain.html#a37deed4fd8e35a81c4a00b1bd5e55038" title="read only visibility of the focused octree">focusTree()</a> </p>

</div>
</div>
<a id="a728fdcbe873b26a272b1a1a85295e20c" name="a728fdcbe873b26a272b1a1a85295e20c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a728fdcbe873b26a272b1a1a85295e20c">&#9670;&#160;</a></span>startIndex()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::startIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the index of the first particle that's part of the local assignment </p>

</div>
</div>
<a id="a81cde838c83f85f9929a913d02f081da" name="a81cde838c83f85f9929a913d02f081da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81cde838c83f85f9929a913d02f081da">&#9670;&#160;</a></span>sync()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<div class="memtemplate">
template&lt;class KeyVec , class VectorX , class VectorH , class... Vectors1, class... Vectors2&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::sync </td>
          <td>(</td>
          <td class="paramtype">KeyVec &amp;&#160;</td>
          <td class="paramname"><em>particleKeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorX &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorX &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorX &amp;&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorH &amp;&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::tuple&lt; Vectors1 &amp;... &gt;&#160;</td>
          <td class="paramname"><em>particleProperties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::tuple&lt; Vectors2 &amp;... &gt;&#160;</td>
          <td class="paramname"><em>scratchBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classcstone_1_1Domain.html">Domain</a> update sequence for particles with coordinates x,y,z, interaction radius h and their properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">particleKeys</td><td>SFC particleKeys </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">x</td><td>floating point coordinates </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">y</td><td></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">z</td><td></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">h</td><td>interaction radii in SPH convention, actual interaction radius is twice the value in h </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particleProperties</td><td>particle properties to distribute along with the coordinates e.g. mass or charge</td></tr>
  </table>
  </dd>
</dl>
<hr  />
 <h1><a class="anchor" id="autotoc_md1"></a>
Preconditions:</h1>
<ul>
<li><p class="startli">Array sizes of x,y,z,h and particleProperties are identical AND equal to the internally stored value of localNParticles_ from the previous call, except on the first call. This is checked.</p>
<p class="startli">This means that none of the argument arrays can be resized between calls of this function. Or in other words, particles cannot be created or destroyed. (If this should ever be required though, it can be easily enabled by allowing the assigned index range from <a class="el" href="classcstone_1_1Domain.html#a728fdcbe873b26a272b1a1a85295e20c" title="return the index of the first particle that&#39;s part of the local assignment">startIndex()</a> to <a class="el" href="classcstone_1_1Domain.html#a73c5b1a9124a8d578b6f4b4258752629" title="return one past the index of the last particle that&#39;s part of the local assignment">endIndex()</a> to be modified from the outside.)</p>
</li>
<li>The particle order is irrelevant</li>
<li>Content of particleKeys is irrelevant as it will be resized to fit x,y,z,h and particleProperties</li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md3"></a>
Postconditions:</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Array sizes:</h2>
<ul>
<li>All arrays, x,y,z,h, particleKeys and particleProperties are resized with space for the newly assigned particles AND their halos.</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Content of x,y,z and h</h2>
<ul>
<li>x,y,z,h at indices from <a class="el" href="classcstone_1_1Domain.html#a728fdcbe873b26a272b1a1a85295e20c" title="return the index of the first particle that&#39;s part of the local assignment">startIndex()</a> to <a class="el" href="classcstone_1_1Domain.html#a73c5b1a9124a8d578b6f4b4258752629" title="return one past the index of the last particle that&#39;s part of the local assignment">endIndex()</a> contain assigned particles that the executing rank owns, all other elements are <em>halos</em> of the assigned particles, i.e. the halos for x,y,z,h and particleKeys are already in place post-call.</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Content of particleProperties</h2>
<ul>
<li>particleProperties arrays contain the updated properties at indices from <a class="el" href="classcstone_1_1Domain.html#a728fdcbe873b26a272b1a1a85295e20c" title="return the index of the first particle that&#39;s part of the local assignment">startIndex()</a> to <a class="el" href="classcstone_1_1Domain.html#a73c5b1a9124a8d578b6f4b4258752629" title="return one past the index of the last particle that&#39;s part of the local assignment">endIndex()</a>, i.e. index i refers to a property of the particle with coordinates (x[i], y[i], z[i]). Content of elements outside this range is <em>undefined</em>, but can be filled with the corresponding halo data by a subsequent call to exchangeHalos(particleProperty), such that also for i outside [<a class="el" href="classcstone_1_1Domain.html#a728fdcbe873b26a272b1a1a85295e20c" title="return the index of the first particle that&#39;s part of the local assignment">startIndex()</a>:<a class="el" href="classcstone_1_1Domain.html#a73c5b1a9124a8d578b6f4b4258752629" title="return one past the index of the last particle that&#39;s part of the local assignment">endIndex()</a>], particleProperty[i] is a property of the halo particle with coordinates (x[i], y[i], z[i]).</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Content of particleKeys</h2>
<ul>
<li>The particleKeys output is sorted and contains the SFC particleKeys of assigned <em>and</em> halo particles, i.e. all arrays will be output in SFC order.</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Internal state of the domain</h2>
<p>The following members are modified by calling this function:</p><ul>
<li>Update of the global octree, for use as starting guess in the next call</li>
<li>Update of the assigned range <a class="el" href="classcstone_1_1Domain.html#a728fdcbe873b26a272b1a1a85295e20c" title="return the index of the first particle that&#39;s part of the local assignment">startIndex()</a> and <a class="el" href="classcstone_1_1Domain.html#a73c5b1a9124a8d578b6f4b4258752629" title="return one past the index of the last particle that&#39;s part of the local assignment">endIndex()</a></li>
<li>Update of the total local particle count, i.e. assigned + halo particles</li>
<li>Update of the halo exchange patterns, for subsequent use in exchangeHalos</li>
<li>Update of the global coordinate bounding box</li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md10"></a>
Update sequence:</h1>
<ol type="1">
<li>compute global coordinate bounding box</li>
<li>compute global octree</li>
<li>compute max_h per octree node</li>
<li>assign octree to ranks</li>
<li>discover halos</li>
<li>compute particle layout, i.e. count number of halos and assigned particles and compute halo send and receive index ranges</li>
<li>resize x,y,z,h,particleKeys and properties to new number of assigned + halo particles</li>
<li>exchange coordinates, h, and properties of assigned particles</li>
<li>SFC sort exchanged assigned particles</li>
</ol>
<p>exchange halo particles </p>

</div>
</div>
<a id="a7d706506965f56bf319042883e197e8c" name="a7d706506965f56bf319042883e197e8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d706506965f56bf319042883e197e8c">&#9670;&#160;</a></span>syncGrav()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T , class Accelerator  = CpuTag&gt; </div>
<div class="memtemplate">
template&lt;class KeyVec , class VectorX , class VectorH , class VectorM , class... Vectors1, class... Vectors2&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcstone_1_1Domain.html">cstone::Domain</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T, Accelerator &gt;::syncGrav </td>
          <td>(</td>
          <td class="paramtype">KeyVec &amp;&#160;</td>
          <td class="paramname"><em>particleKeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorX &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorX &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorX &amp;&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorH &amp;&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VectorM &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::tuple&lt; Vectors1 &amp;... &gt;&#160;</td>
          <td class="paramname"><em>particleProperties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::tuple&lt; Vectors2 &amp;... &gt;&#160;</td>
          <td class="paramname"><em>scratchBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="domain_8hpp_source.html">domain.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecstone.html">cstone</a></li><li class="navelem"><a class="el" href="classcstone_1_1Domain.html">Domain</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
