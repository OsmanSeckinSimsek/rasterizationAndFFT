<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rasterizationAndFFT + Cornerstone API: layout.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">rasterizationAndFFT + Cornerstone API
   </div>
   <div id="projectbrief">Distributed octree domain, rasterization, and FFT utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('layout_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">layout.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Utility functions for determining the layout of particle buffers on a given rank.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="domaindecomp_8hpp_source.html">cstone/domain/domaindecomp.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tuple__util_8hpp_source.html">cstone/util/tuple_util.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type__list_8hpp_source.html">cstone/util/type_list.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for layout.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="layout_8hpp__incl.png" border="0" usemap="#alayout_8hpp" alt=""/></div>
<map name="alayout_8hpp" id="alayout_8hpp">
<area shape="rect" title="Utility functions for determining the layout of particle buffers on a given rank." alt="" coords="1594,5,1685,31"/>
<area shape="rect" title=" " alt="" coords="864,299,927,324"/>
<area shape="poly" title=" " alt="" coords="1594,23,1462,28,1287,39,1117,56,1047,67,995,81,960,94,934,107,912,125,891,153,879,186,877,222,881,256,889,285,884,287,876,257,871,222,873,185,886,151,908,121,931,102,958,89,993,76,1046,62,1116,50,1287,33,1461,23,1594,18"/>
<area shape="rect" href="domaindecomp_8hpp.html" title="Functions to assign a global cornerstone octree to different ranks." alt="" coords="1006,79,1257,104"/>
<area shape="poly" title=" " alt="" coords="1594,28,1227,79,1226,74,1593,23"/>
<area shape="rect" href="tuple__util_8hpp.html" title="General purpose utilities." alt="" coords="2348,225,2531,251"/>
<area shape="poly" title=" " alt="" coords="1682,28,2385,219,2384,224,1681,33"/>
<area shape="rect" href="type__list_8hpp.html" title=" " alt="" coords="2145,225,2323,251"/>
<area shape="poly" title=" " alt="" coords="1671,28,2191,218,2189,223,1670,33"/>
<area shape="poly" title=" " alt="" coords="1053,107,967,126,932,139,911,154,894,185,888,220,888,255,892,285,887,286,883,255,882,220,889,183,907,150,930,134,965,121,1051,101"/>
<area shape="rect" title=" " alt="" coords="2139,299,2225,324"/>
<area shape="poly" title=" " alt="" coords="1187,101,2126,296,2125,301,1186,107"/>
<area shape="rect" title=" " alt="" coords="1002,299,1077,324"/>
<area shape="poly" title=" " alt="" coords="1131,105,1108,178,1081,238,1055,288,1050,285,1076,236,1104,176,1126,104"/>
<area shape="rect" href="csarray_8hpp.html" title="Generation of local and global octrees in cornerstone format." alt="" coords="921,152,1094,177"/>
<area shape="poly" title=" " alt="" coords="1113,106,1041,147,1038,143,1110,102"/>
<area shape="rect" href="gsl-lite_8hpp.html" title=" " alt="" coords="1475,225,1641,251"/>
<area shape="poly" title=" " alt="" coords="1166,102,1512,218,1510,223,1164,107"/>
<area shape="rect" href="index__ranges_8hpp.html" title="Utility class to express ranges of indices." alt="" coords="657,225,795,251"/>
<area shape="poly" title=" " alt="" coords="1048,107,959,125,866,154,804,186,753,219,751,215,801,181,864,150,957,120,1047,101"/>
<area shape="poly" title=" " alt="" coords="1000,179,915,290,910,286,996,176"/>
<area shape="poly" title=" " alt="" coords="1095,170,1346,190,1654,223,1889,255,2126,296,2125,301,1888,260,1654,228,1346,196,1094,175"/>
<area shape="poly" title=" " alt="" coords="1013,177,1036,285,1031,286,1007,178"/>
<area shape="rect" title=" " alt="" coords="5,445,68,471"/>
<area shape="poly" title=" " alt="" coords="921,169,798,173,642,182,470,199,298,228,184,248,138,265,86,301,63,330,49,365,42,401,39,431,34,431,36,400,44,363,59,327,83,297,135,260,182,243,298,223,469,194,641,177,797,167,921,164"/>
<area shape="rect" title=" " alt="" coords="937,372,992,397"/>
<area shape="poly" title=" " alt="" coords="1008,178,972,359,967,358,1002,177"/>
<area shape="rect" href="common_8hpp.html" title="Common operations on SFC keys that do not depend on the specific SFC used." alt="" coords="364,225,541,251"/>
<area shape="poly" title=" " alt="" coords="920,180,556,226,555,221,920,174"/>
<area shape="rect" href="definitions_8h.html" title=" " alt="" coords="135,299,314,324"/>
<area shape="poly" title=" " alt="" coords="920,171,781,177,618,188,463,205,401,215,354,228,324,241,296,257,249,292,246,287,293,253,321,236,352,223,400,210,463,199,617,183,781,172,920,166"/>
<area shape="rect" href="tuple_8hpp.html" title="Wrapper around different types of tuples compatible with device code." alt="" coords="541,299,695,324"/>
<area shape="poly" title=" " alt="" coords="921,173,844,179,764,190,693,206,667,216,648,227,637,240,630,254,622,285,617,284,625,252,633,237,644,223,664,211,692,201,763,184,844,174,920,167"/>
<area shape="rect" href="scan_8hpp.html" title="Parallel prefix sum." alt="" coords="1147,225,1345,251"/>
<area shape="poly" title=" " alt="" coords="1046,175,1195,219,1193,224,1045,180"/>
<area shape="poly" title=" " alt="" coords="1095,175,1461,222,1460,227,1094,180"/>
<area shape="poly" title=" " alt="" coords="364,242,308,247,246,257,183,274,125,301,103,316,89,331,64,373,52,403,44,432,39,431,47,401,60,371,84,328,99,312,122,296,181,269,244,252,307,241,364,236"/>
<area shape="rect" title=" " alt="" coords="719,299,789,324"/>
<area shape="poly" title=" " alt="" coords="503,248,706,296,705,301,501,253"/>
<area shape="rect" title=" " alt="" coords="303,372,370,397"/>
<area shape="poly" title=" " alt="" coords="445,253,357,363,352,360,441,249"/>
<area shape="rect" title=" " alt="" coords="1820,445,1912,471"/>
<area shape="poly" title=" " alt="" coords="462,249,488,286,508,306,530,322,574,342,614,353,650,358,685,358,760,357,803,360,852,369,889,383,927,395,1006,407,1110,417,1363,434,1806,452,1806,458,1362,439,1110,422,1005,412,925,400,888,388,851,375,802,366,759,362,685,364,650,363,613,358,572,347,527,326,504,310,484,290,457,253"/>
<area shape="rect" href="clz_8hpp.html" title="count leading zeros in unsigned integers" alt="" coords="395,372,580,397"/>
<area shape="poly" title=" " alt="" coords="448,252,436,285,433,304,437,323,448,343,464,361,460,364,444,346,431,325,428,304,430,284,443,250"/>
<area shape="rect" href="stl_8hpp.html" title="Functionality that exist in std::, but cannot be used in device code." alt="" coords="656,372,839,397"/>
<area shape="poly" title=" " alt="" coords="456,251,464,287,473,306,486,322,512,336,550,348,643,367,642,373,548,354,509,341,483,326,469,309,459,288,451,252"/>
<area shape="poly" title=" " alt="" coords="417,253,276,297,274,292,415,248"/>
<area shape="poly" title=" " alt="" coords="480,248,580,291,577,296,478,253"/>
<area shape="rect" href="annotation_8hpp.html" title="Defines macros for enabling device code compilation." alt="" coords="386,445,589,471"/>
<area shape="poly" title=" " alt="" coords="490,398,490,432,485,432,485,398"/>
<area shape="poly" title=" " alt="" coords="839,393,858,395,1409,431,1807,451,1806,457,1408,437,858,400,839,398"/>
<area shape="poly" title=" " alt="" coords="706,400,543,444,542,439,705,395"/>
<area shape="poly" title=" " alt="" coords="244,322,308,362,305,367,241,326"/>
<area shape="poly" title=" " alt="" coords="233,323,256,359,273,378,293,395,345,422,401,440,400,445,343,427,290,400,269,382,252,362,229,326"/>
<area shape="poly" title=" " alt="" coords="309,321,650,367,649,373,308,327"/>
<area shape="rect" href="array_8hpp.html" title="implementation of a compile&#45;time size array that can be used on the host and device" alt="" coords="74,372,229,397"/>
<area shape="poly" title=" " alt="" coords="214,326,175,364,171,360,211,322"/>
<area shape="poly" title=" " alt="" coords="134,400,68,440,66,436,132,395"/>
<area shape="poly" title=" " alt="" coords="206,395,420,440,419,445,205,400"/>
<area shape="rect" title=" " alt="" coords="1239,445,1299,471"/>
<area shape="poly" title=" " alt="" coords="229,390,292,395,842,430,1225,452,1225,457,842,435,291,400,228,395"/>
<area shape="poly" title=" " alt="" coords="674,321,924,372,923,378,673,327"/>
<area shape="poly" title=" " alt="" coords="620,325,613,360,606,380,595,399,567,424,535,442,532,438,564,420,591,396,601,378,608,359,615,324"/>
<area shape="poly" title=" " alt="" coords="1345,243,1769,269,2126,296,2125,302,1768,274,1345,248"/>
<area shape="poly" title=" " alt="" coords="1214,253,1087,297,1085,292,1212,248"/>
<area shape="poly" title=" " alt="" coords="1245,252,1228,289,1213,310,1194,326,1145,340,1058,354,853,377,852,371,1058,349,1144,335,1191,322,1209,306,1223,287,1240,250"/>
<area shape="rect" title=" " alt="" coords="1101,299,1181,324"/>
<area shape="poly" title=" " alt="" coords="1231,253,1170,293,1168,289,1228,248"/>
<area shape="poly" title=" " alt="" coords="1475,250,990,301,941,307,940,302,990,296,1474,245"/>
<area shape="poly" title=" " alt="" coords="1642,243,1857,262,2126,296,2125,301,1857,268,1642,248"/>
<area shape="poly" title=" " alt="" coords="1475,251,1369,269,1324,283,1296,301,1277,331,1268,366,1266,402,1268,432,1262,432,1260,402,1263,365,1272,329,1292,297,1322,279,1367,264,1474,245"/>
<area shape="rect" title=" " alt="" coords="1945,299,2032,324"/>
<area shape="poly" title=" " alt="" coords="1637,248,1932,296,1931,301,1637,253"/>
<area shape="rect" title=" " alt="" coords="2057,299,2115,324"/>
<area shape="poly" title=" " alt="" coords="1642,243,1823,262,1932,277,2043,296,2043,301,1931,282,1822,267,1641,248"/>
<area shape="rect" title=" " alt="" coords="1306,299,1383,324"/>
<area shape="poly" title=" " alt="" coords="1525,253,1393,297,1391,292,1523,248"/>
<area shape="rect" title=" " alt="" coords="1407,299,1471,324"/>
<area shape="poly" title=" " alt="" coords="1540,253,1472,294,1469,289,1538,248"/>
<area shape="rect" title=" " alt="" coords="1496,299,1537,324"/>
<area shape="poly" title=" " alt="" coords="1553,252,1533,288,1528,285,1549,250"/>
<area shape="rect" title=" " alt="" coords="1561,299,1648,324"/>
<area shape="poly" title=" " alt="" coords="1568,250,1592,286,1587,289,1563,252"/>
<area shape="rect" title=" " alt="" coords="1673,299,1731,324"/>
<area shape="poly" title=" " alt="" coords="1582,248,1667,290,1665,295,1580,253"/>
<area shape="rect" title=" " alt="" coords="1756,299,1827,324"/>
<area shape="poly" title=" " alt="" coords="1596,248,1744,293,1742,298,1595,253"/>
<area shape="rect" title=" " alt="" coords="1851,299,1921,324"/>
<area shape="poly" title=" " alt="" coords="1615,248,1837,296,1836,301,1614,253"/>
<area shape="poly" title=" " alt="" coords="754,248,856,291,854,296,752,253"/>
<area shape="poly" title=" " alt="" coords="777,248,989,296,988,301,776,253"/>
<area shape="poly" title=" " alt="" coords="744,249,854,322,931,363,928,368,851,326,741,253"/>
<area shape="poly" title=" " alt="" coords="733,250,747,285,742,287,728,252"/>
<area shape="poly" title=" " alt="" coords="657,252,319,299,318,294,656,246"/>
<area shape="poly" title=" " alt="" coords="2399,253,2237,298,2236,292,2397,248"/>
<area shape="poly" title=" " alt="" coords="2428,253,2376,291,2341,311,2303,327,2219,340,2076,352,1686,369,1280,380,1006,385,1006,380,1280,375,1686,364,2076,346,2218,335,2301,321,2338,306,2373,287,2424,249"/>
<area shape="poly" title=" " alt="" coords="2453,249,2471,270,2486,298,2502,351,2500,375,2485,399,2456,414,2402,426,2246,443,2070,453,1926,458,1925,453,2070,448,2246,438,2401,420,2454,409,2482,395,2495,373,2497,352,2481,300,2467,273,2449,252"/>
<area shape="poly" title=" " alt="" coords="2432,253,2398,290,2374,310,2347,326,2306,342,2255,357,2130,383,1983,404,1825,422,1522,446,1312,457,1312,452,1522,440,1824,416,1982,399,2129,377,2254,352,2304,337,2345,322,2371,306,2395,286,2429,249"/>
<area shape="poly" title=" " alt="" coords="2251,249,2267,265,2283,284,2290,305,2289,316,2282,326,2262,335,2222,343,2093,356,1915,366,1709,373,1291,382,1006,386,1006,380,1291,377,1708,368,1915,360,2093,350,2222,337,2261,330,2279,322,2284,314,2285,306,2278,287,2263,268,2247,253"/>
<area shape="poly" title=" " alt="" coords="2145,244,1599,260,1229,277,853,301,803,306,802,301,852,296,1229,271,1599,254,2145,238"/>
<area shape="poly" title=" " alt="" coords="2257,249,2278,263,2298,282,2309,303,2309,314,2304,326,2279,348,2240,369,2193,388,2138,404,2024,432,1926,450,1925,445,2023,426,2137,399,2191,383,2238,364,2276,344,2300,322,2304,313,2304,304,2294,285,2275,267,2254,253"/>
<area shape="poly" title=" " alt="" coords="2242,250,2250,287,2248,308,2238,326,2215,336,2169,344,2021,356,1819,364,1590,369,926,375,853,379,853,374,926,369,1590,364,1819,359,2021,350,2168,338,2214,331,2235,322,2243,306,2245,287,2236,252"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="layout_8hpp__dep__incl.png" border="0" usemap="#alayout_8hppdep" alt=""/></div>
<map name="alayout_8hppdep" id="alayout_8hppdep">
<area shape="rect" title="Utility functions for determining the layout of particle buffers on a given rank." alt="" coords="238,5,329,31"/>
<area shape="rect" href="assignment_8hpp.html" title="Implementation of global particle assignment and distribution." alt="" coords="5,79,132,104"/>
<area shape="poly" title=" " alt="" coords="237,37,104,81,103,76,235,32"/>
<area shape="rect" href="domain_8hpp.html" title="A domain class to manage distributed particles and their halos." alt="" coords="234,152,333,177"/>
<area shape="poly" title=" " alt="" coords="244,39,222,52,204,67,195,84,198,103,209,118,223,131,254,150,252,154,219,135,205,122,193,105,190,83,200,64,219,48,241,35"/>
<area shape="rect" href="exchange__keys_8hpp.html" title="Send/receive SFC key ranges to let peer ranks know which particles to send as halos." alt="" coords="208,79,359,104"/>
<area shape="poly" title=" " alt="" coords="286,44,286,79,281,79,281,44"/>
<area shape="rect" href="halos_8hpp.html" title="Implementation of halo discovery and halo exchange." alt="" coords="383,79,469,104"/>
<area shape="poly" title=" " alt="" coords="320,34,404,76,401,81,317,39"/>
<area shape="rect" href="octree__focus__mpi_8hpp.html" title="Traits and functors for the MPI&#45;enabled FocusedOctree." alt="" coords="493,79,658,104"/>
<area shape="poly" title=" " alt="" coords="343,31,529,76,527,81,341,36"/>
<area shape="poly" title=" " alt="" coords="117,106,249,149,248,154,115,111"/>
<area shape="rect" href="domain__minimal_8cpp.html" title=" " alt="" coords="57,225,216,251"/>
<area shape="poly" title=" " alt="" coords="249,186,162,228,160,223,247,181"/>
<area shape="rect" href="mesh_8hpp.html" title=" " alt="" coords="240,225,327,251"/>
<area shape="poly" title=" " alt="" coords="286,191,286,225,281,225,281,191"/>
<area shape="rect" href="power__spectrum_8cpp.html" title=" " alt="" coords="245,299,402,324"/>
<area shape="poly" title=" " alt="" coords="311,185,328,203,340,224,344,245,343,266,332,299,326,298,337,265,339,245,336,226,324,206,307,188"/>
<area shape="poly" title=" " alt="" coords="299,262,319,297,315,300,294,264"/>
<area shape="poly" title=" " alt="" coords="286,118,286,152,281,152,281,118"/>
<area shape="poly" title=" " alt="" coords="392,112,308,154,305,149,390,108"/>
<area shape="poly" title=" " alt="" coords="516,110,331,154,330,149,515,105"/>
</map>
</div>
</div>
<p><a href="layout_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacecstone" id="r_namespacecstone"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecstone.html">cstone</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9a0aff1cf6863f5d6a6f32ebe071cde7" id="r_a9a0aff1cf6863f5d6a6f32ebe071cde7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structcstone_1_1IndexPair.html">IndexPair</a>&lt; <a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecstone.html#a9a0aff1cf6863f5d6a6f32ebe071cde7">cstone::invertRanges</a> (<a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> first, gsl::span&lt; const <a class="el" href="structcstone_1_1IndexPair.html">IndexPair</a>&lt; <a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> &gt; &gt; ranges, <a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> last)</td></tr>
<tr class="memdesc:a9a0aff1cf6863f5d6a6f32ebe071cde7"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the complementary range of the input ranges  <br /></td></tr>
<tr class="separator:a9a0aff1cf6863f5d6a6f32ebe071cde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b792ce0fb408c428d0a85ff18450faa" id="r_a9b792ce0fb408c428d0a85ff18450faa"><td class="memTemplParams" colspan="2">template&lt;class IntegralType &gt; </td></tr>
<tr class="memitem:a9b792ce0fb408c428d0a85ff18450faa"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; IntegralType &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacecstone.html#a9b792ce0fb408c428d0a85ff18450faa">cstone::extractMarkedElements</a> (gsl::span&lt; const IntegralType &gt; source, gsl::span&lt; const int &gt; flags, <a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> firstReqIdx, <a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> secondReqIdx)</td></tr>
<tr class="memdesc:a9b792ce0fb408c428d0a85ff18450faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">extract ranges of marked indices from a source array  <br /></td></tr>
<tr class="separator:a9b792ce0fb408c428d0a85ff18450faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd9a12b3c41b32a4e7c33b380e821f6" id="r_a9fd9a12b3c41b32a4e7c33b380e821f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecstone.html#a9fd9a12b3c41b32a4e7c33b380e821f6">cstone::computeNodeLayout</a> (gsl::span&lt; const unsigned &gt; focusLeafCounts, gsl::span&lt; const int &gt; haloFlags, <a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> firstAssignedIdx, <a class="el" href="namespacecstone.html#a02ddbbe0e6bf938c6b5675d15fd3ced3">TreeNodeIndex</a> lastAssignedIdx, gsl::span&lt; <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> &gt; layout)</td></tr>
<tr class="memdesc:a9fd9a12b3c41b32a4e7c33b380e821f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate the location (offset) of each focus tree leaf node in the particle arrays  <br /></td></tr>
<tr class="separator:a9fd9a12b3c41b32a4e7c33b380e821f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cde21101a4ca77d3499955752cf891" id="r_a40cde21101a4ca77d3499955752cf891"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcstone_1_1SendList.html">SendList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecstone.html#a40cde21101a4ca77d3499955752cf891">cstone::computeHaloReceiveList</a> (gsl::span&lt; const <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> &gt; layout, gsl::span&lt; const int &gt; haloFlags, gsl::span&lt; const <a class="el" href="namespacecstone.html#ab92e8dfcff11066ac75330812a896de9">TreeIndexPair</a> &gt; assignment, gsl::span&lt; const int &gt; peerRanks)</td></tr>
<tr class="memdesc:a40cde21101a4ca77d3499955752cf891"><td class="mdescLeft">&#160;</td><td class="mdescRight">computes a list which local array ranges are going to be filled with halo particles  <br /></td></tr>
<tr class="separator:a40cde21101a4ca77d3499955752cf891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce198b4b6ced8fd1a9f4344cc1a4bd5" id="r_afce198b4b6ced8fd1a9f4344cc1a4bd5"><td class="memTemplParams" colspan="2">template&lt;class Gather , class... Arrays1, class... Arrays2&gt; </td></tr>
<tr class="memitem:afce198b4b6ced8fd1a9f4344cc1a4bd5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacecstone.html#afce198b4b6ced8fd1a9f4344cc1a4bd5">cstone::gatherArrays</a> (Gather &amp;&amp;gatherFunc, const <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> *ordering, <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> numElements, <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> inputOffset, <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> outputOffset, std::tuple&lt; Arrays1 &amp;... &gt; arrays, std::tuple&lt; Arrays2 &amp;... &gt; scratchBuffers)</td></tr>
<tr class="memdesc:afce198b4b6ced8fd1a9f4344cc1a4bd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">reorder with state-less function object  <br /></td></tr>
<tr class="separator:afce198b4b6ced8fd1a9f4344cc1a4bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility functions for determining the layout of particle buffers on a given rank. </p>
<dl class="section author"><dt>Author</dt><dd>Sebastian Keller <a href="#" onclick="location.href='mai'+'lto:'+'seb'+'as'+'tia'+'n.'+'f.k'+'el'+'ler'+'@g'+'mai'+'l.'+'com'; return false;">sebas<span class="obfuscator">.nosp@m.</span>tian<span class="obfuscator">.nosp@m.</span>.f.ke<span class="obfuscator">.nosp@m.</span>ller<span class="obfuscator">.nosp@m.</span>@gmai<span class="obfuscator">.nosp@m.</span>l.co<span class="obfuscator">.nosp@m.</span>m</a></dd></dl>
<p>Each rank will be assigned a part of the SFC, equating to one or multiple ranges of node indices of the global cornerstone octree. In a addition to the assigned nodes, each rank must also store particle data for those nodes in the global octree which are halos of the assigned nodes. Both types of nodes present on the rank are stored in the same particle array (x,y,z,h,...) according to increasing node index, which is the same as increasing Morton code.</p>
<p>Given</p><ul>
<li>the global cornerstone tree</li>
<li>its assignment to ranks</li>
<li>lists of in/outgoing halo nodes (global indices) per rank, the utility functions in this file determine the position and size of each node (halo or assigned node) in the particle buffers. The resulting layout is valid for all particle buffers, such as x,y,z,h,d,p,...</li>
</ul>
<p>Note: If a node of the global cornerstone octree has index i, this means its Morton code range is tree[i] - tree[i+1] </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_11d14776504e0a846602c2c422cc3332.html">cstone</a></li><li class="navelem"><a class="el" href="dir_53f7f6b0a50e8f1ad5b9506f35c44008.html">include</a></li><li class="navelem"><a class="el" href="dir_e32ab675bfd7286b147ad98a8674a0a5.html">cstone</a></li><li class="navelem"><a class="el" href="dir_4cbc9f35f8c9815c46407f0fea5a6d97.html">domain</a></li><li class="navelem"><a class="el" href="layout_8hpp.html">layout.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
