<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rasterizationAndFFT + Cornerstone API: cstone::GlobalAssignment&lt; KeyType, T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">rasterizationAndFFT + Cornerstone API
   </div>
   <div id="projectbrief">Distributed octree domain, rasterization, and FFT utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcstone_1_1GlobalAssignment.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcstone_1_1GlobalAssignment-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cstone::GlobalAssignment&lt; KeyType, T &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class for global domain assignment and distribution.  
 <a href="classcstone_1_1GlobalAssignment.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="assignment_8hpp_source.html">assignment.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a53e5c0982b87fecc86b07310f06cb1dd" id="r_a53e5c0982b87fecc86b07310f06cb1dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a53e5c0982b87fecc86b07310f06cb1dd">GlobalAssignment</a> (int rank, int nRanks, unsigned bucketSize, const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp;<a class="el" href="classcstone_1_1GlobalAssignment.html#a5edfcd6db74c43e0c630401bd95eb2a8">box</a>=<a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt;{0, 1})</td></tr>
<tr class="separator:a53e5c0982b87fecc86b07310f06cb1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a144524eb1c8597676f9acab0b32d8" id="r_a39a144524eb1c8597676f9acab0b32d8"><td class="memTemplParams" colspan="2">template&lt;class Reorderer , class Vector &gt; </td></tr>
<tr class="memitem:a39a144524eb1c8597676f9acab0b32d8"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a39a144524eb1c8597676f9acab0b32d8">assign</a> (<a class="el" href="structcstone_1_1BufferDescription.html">BufferDescription</a> bufDesc, Reorderer &amp;reorderFunctor, Vector &amp;, Vector &amp;, <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> *particleKeys, const T *x, const T *y, const T *z)</td></tr>
<tr class="memdesc:a39a144524eb1c8597676f9acab0b32d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the global tree.  <br /></td></tr>
<tr class="separator:a39a144524eb1c8597676f9acab0b32d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e76cfcc43682cc32357213e09bea7f" id="r_a48e76cfcc43682cc32357213e09bea7f"><td class="memTemplParams" colspan="2">template&lt;class Reorderer , class Vector , class... Arrays&gt; </td></tr>
<tr class="memitem:a48e76cfcc43682cc32357213e09bea7f"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a48e76cfcc43682cc32357213e09bea7f">distribute</a> (<a class="el" href="structcstone_1_1BufferDescription.html">BufferDescription</a> bufDesc, Reorderer &amp;reorderFunctor, Vector &amp;, Vector &amp;, <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> *keys, T *x, T *y, T *z, Arrays... particleProperties) const</td></tr>
<tr class="memdesc:a48e76cfcc43682cc32357213e09bea7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distribute particles to their assigned ranks based on previous assignment.  <br /></td></tr>
<tr class="separator:a48e76cfcc43682cc32357213e09bea7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90abcde5c897d2655d63f8624172d18f" id="r_a90abcde5c897d2655d63f8624172d18f"><td class="memTemplParams" colspan="2">template&lt;class SVec , class... Arrays&gt; </td></tr>
<tr class="memitem:a90abcde5c897d2655d63f8624172d18f"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a90abcde5c897d2655d63f8624172d18f">redoExchange</a> (<a class="el" href="structcstone_1_1BufferDescription.html">BufferDescription</a> bufDesc, const <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> *ordering, SVec &amp;, SVec &amp;, Arrays... particleProperties) const</td></tr>
<tr class="memdesc:a90abcde5c897d2655d63f8624172d18f"><td class="mdescLeft">&#160;</td><td class="mdescRight">repeat exchange from last call to <a class="el" href="classcstone_1_1GlobalAssignment.html#a39a144524eb1c8597676f9acab0b32d8" title="Update the global tree.">assign()</a>  <br /></td></tr>
<tr class="separator:a90abcde5c897d2655d63f8624172d18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab136fc6d0dbbcb9eb090d27c51bc160c" id="r_ab136fc6d0dbbcb9eb090d27c51bc160c"><td class="memItemLeft" align="right" valign="top">gsl::span&lt; const <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#ab136fc6d0dbbcb9eb090d27c51bc160c">treeLeaves</a> () const</td></tr>
<tr class="memdesc:ab136fc6d0dbbcb9eb090d27c51bc160c"><td class="mdescLeft">&#160;</td><td class="mdescRight">read only visibility of the global octree leaves to the outside  <br /></td></tr>
<tr class="separator:ab136fc6d0dbbcb9eb090d27c51bc160c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912535398f8e5231472adf8523f2f06f" id="r_a912535398f8e5231472adf8523f2f06f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcstone_1_1Octree.html">Octree</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a912535398f8e5231472adf8523f2f06f">octree</a> () const</td></tr>
<tr class="memdesc:a912535398f8e5231472adf8523f2f06f"><td class="mdescLeft">&#160;</td><td class="mdescRight">the octree, including the internal part  <br /></td></tr>
<tr class="separator:a912535398f8e5231472adf8523f2f06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab227ace62b9cad628c4dbb297b2265cd" id="r_ab227ace62b9cad628c4dbb297b2265cd"><td class="memItemLeft" align="right" valign="top">gsl::span&lt; const unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#ab227ace62b9cad628c4dbb297b2265cd">nodeCounts</a> () const</td></tr>
<tr class="memdesc:ab227ace62b9cad628c4dbb297b2265cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">read only visibility of the global octree leaf counts to the outside  <br /></td></tr>
<tr class="separator:ab227ace62b9cad628c4dbb297b2265cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5edfcd6db74c43e0c630401bd95eb2a8" id="r_a5edfcd6db74c43e0c630401bd95eb2a8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a5edfcd6db74c43e0c630401bd95eb2a8">box</a> () const</td></tr>
<tr class="memdesc:a5edfcd6db74c43e0c630401bd95eb2a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">the global coordinate bounding box  <br /></td></tr>
<tr class="separator:a5edfcd6db74c43e0c630401bd95eb2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ceb0b311f88e84a955c439d2b5a981f" id="r_a8ceb0b311f88e84a955c439d2b5a981f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcstone_1_1SpaceCurveAssignment.html">SpaceCurveAssignment</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a8ceb0b311f88e84a955c439d2b5a981f">assignment</a> () const</td></tr>
<tr class="memdesc:a8ceb0b311f88e84a955c439d2b5a981f"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the space filling curve rank assignment of the last call to <em><a class="el" href="classcstone_1_1GlobalAssignment.html#a39a144524eb1c8597676f9acab0b32d8" title="Update the global tree.">assign()</a></em>  <br /></td></tr>
<tr class="separator:a8ceb0b311f88e84a955c439d2b5a981f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f8c6b6741cb989f8829d3b2bf944ce" id="r_a54f8c6b6741cb989f8829d3b2bf944ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a54f8c6b6741cb989f8829d3b2bf944ce">numSendDown</a> () const</td></tr>
<tr class="memdesc:a54f8c6b6741cb989f8829d3b2bf944ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of local particles to be sent to lower ranks  <br /></td></tr>
<tr class="separator:a54f8c6b6741cb989f8829d3b2bf944ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57193497c2abbea1d4adfcf1e7ee9d3a" id="r_a57193497c2abbea1d4adfcf1e7ee9d3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a57193497c2abbea1d4adfcf1e7ee9d3a">numPresent</a> () const</td></tr>
<tr class="separator:a57193497c2abbea1d4adfcf1e7ee9d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4646d24951b721273a611702b7b5fedd" id="r_a4646d24951b721273a611702b7b5fedd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcstone_1_1GlobalAssignment.html#a4646d24951b721273a611702b7b5fedd">numAssigned</a> () const</td></tr>
<tr class="separator:a4646d24951b721273a611702b7b5fedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, class T&gt;<br />
class cstone::GlobalAssignment&lt; KeyType, T &gt;</div><p>A class for global domain assignment and distribution. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">KeyType</td><td>32- or 64-bit unsigned integer </td></tr>
    <tr><td class="paramname">T</td><td>float or double</td></tr>
  </table>
  </dd>
</dl>
<p>This class holds a low-res global octree which is replicated across all ranks and it presides over the assignment of that tree to the ranks and performs the necessary point-2-point data exchanges to send all particles to their owning ranks. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a53e5c0982b87fecc86b07310f06cb1dd" name="a53e5c0982b87fecc86b07310f06cb1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e5c0982b87fecc86b07310f06cb1dd">&#9670;&#160;</a></span>GlobalAssignment()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::GlobalAssignment </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRanks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bucketSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>box</em> = <code><a class="el" href="classcstone_1_1Box.html">Box</a>&lt;T&gt;{0,&#160;1}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a39a144524eb1c8597676f9acab0b32d8" name="a39a144524eb1c8597676f9acab0b32d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39a144524eb1c8597676f9acab0b32d8">&#9670;&#160;</a></span>assign()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<div class="memtemplate">
template&lt;class Reorderer , class Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::assign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstone_1_1BufferDescription.html">BufferDescription</a>&#160;</td>
          <td class="paramname"><em>bufDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Reorderer &amp;&#160;</td>
          <td class="paramname"><em>reorderFunctor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> *&#160;</td>
          <td class="paramname"><em>particleKeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the global tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bufDesc</td><td>Buffer description with range of assigned particles </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reorderFunctor</td><td>records the SFC order of the owned input coordinates </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">particleKeys</td><td>will contain sorted particle SFC keys in the range [bufDesc.start:bufDesc.end] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>x coordinates </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>y coordinates </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">z</td><td>z coordinates </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>required buffer size for the next call to <em>distribute</em> </dd></dl>
<p>This function does not modify / communicate any particle data. </p>

</div>
</div>
<a id="a8ceb0b311f88e84a955c439d2b5a981f" name="a8ceb0b311f88e84a955c439d2b5a981f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ceb0b311f88e84a955c439d2b5a981f">&#9670;&#160;</a></span>assignment()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcstone_1_1SpaceCurveAssignment.html">SpaceCurveAssignment</a> &amp; <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::assignment </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the space filling curve rank assignment of the last call to <em><a class="el" href="classcstone_1_1GlobalAssignment.html#a39a144524eb1c8597676f9acab0b32d8" title="Update the global tree.">assign()</a></em> </p>

</div>
</div>
<a id="a5edfcd6db74c43e0c630401bd95eb2a8" name="a5edfcd6db74c43e0c630401bd95eb2a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5edfcd6db74c43e0c630401bd95eb2a8">&#9670;&#160;</a></span>box()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcstone_1_1Box.html">Box</a>&lt; T &gt; &amp; <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::box </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the global coordinate bounding box </p>

</div>
</div>
<a id="a48e76cfcc43682cc32357213e09bea7f" name="a48e76cfcc43682cc32357213e09bea7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e76cfcc43682cc32357213e09bea7f">&#9670;&#160;</a></span>distribute()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<div class="memtemplate">
template&lt;class Reorderer , class Vector , class... Arrays&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::distribute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstone_1_1BufferDescription.html">BufferDescription</a>&#160;</td>
          <td class="paramname"><em>bufDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Reorderer &amp;&#160;</td>
          <td class="paramname"><em>reorderFunctor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> *&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Arrays...&#160;</td>
          <td class="paramname"><em>particleProperties</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Distribute particles to their assigned ranks based on previous assignment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bufDesc</td><td>Buffer description with range of assigned particles and total buffer size </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">reorderFunctor</td><td>contains the ordering that accesses the range [particleStart:particleEnd] in SFC order </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keys</td><td>particle SFC keys, sorted in [bufDesc.start:bufDesc.end] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">x</td><td>particle x-coordinates </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">y</td><td>particle y-coordinates </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">z</td><td>particle z-coordinates </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particleProperties</td><td>remaining particle properties, h, m, etc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index denoting the index range start of particles post-exchange plus a span with a view of the assigned particle keys</dd></dl>
<p>Note: Instead of reordering the particle buffers right here after the exchange, we only keep track of the reorder map that is required to transform the particle buffers into SFC-order. This allows us to defer the reordering until we have done halo discovery. At that time, we know the final location where to put the assigned particles inside the buffer, such that we can reorder directly to the final location. This saves us from having to move around data inside the buffers for a second time. </p>

</div>
</div>
<a id="ab227ace62b9cad628c4dbb297b2265cd" name="ab227ace62b9cad628c4dbb297b2265cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab227ace62b9cad628c4dbb297b2265cd">&#9670;&#160;</a></span>nodeCounts()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gsl::span&lt; const unsigned &gt; <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::nodeCounts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>read only visibility of the global octree leaf counts to the outside </p>

</div>
</div>
<a id="a4646d24951b721273a611702b7b5fedd" name="a4646d24951b721273a611702b7b5fedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4646d24951b721273a611702b7b5fedd">&#9670;&#160;</a></span>numAssigned()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::numAssigned </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a57193497c2abbea1d4adfcf1e7ee9d3a" name="a57193497c2abbea1d4adfcf1e7ee9d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57193497c2abbea1d4adfcf1e7ee9d3a">&#9670;&#160;</a></span>numPresent()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::numPresent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a54f8c6b6741cb989f8829d3b2bf944ce" name="a54f8c6b6741cb989f8829d3b2bf944ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f8c6b6741cb989f8829d3b2bf944ce">&#9670;&#160;</a></span>numSendDown()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::numSendDown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of local particles to be sent to lower ranks </p>

</div>
</div>
<a id="a912535398f8e5231472adf8523f2f06f" name="a912535398f8e5231472adf8523f2f06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912535398f8e5231472adf8523f2f06f">&#9670;&#160;</a></span>octree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcstone_1_1Octree.html">Octree</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt; &amp; <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::octree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the octree, including the internal part </p>

</div>
</div>
<a id="a90abcde5c897d2655d63f8624172d18f" name="a90abcde5c897d2655d63f8624172d18f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90abcde5c897d2655d63f8624172d18f">&#9670;&#160;</a></span>redoExchange()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<div class="memtemplate">
template&lt;class SVec , class... Arrays&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::redoExchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcstone_1_1BufferDescription.html">BufferDescription</a>&#160;</td>
          <td class="paramname"><em>bufDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecstone.html#a4e01a219224a6310ad91973dbcaf1b1e">LocalIndex</a> *&#160;</td>
          <td class="paramname"><em>ordering</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SVec &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SVec &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Arrays...&#160;</td>
          <td class="paramname"><em>particleProperties</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>repeat exchange from last call to <a class="el" href="classcstone_1_1GlobalAssignment.html#a39a144524eb1c8597676f9acab0b32d8" title="Update the global tree.">assign()</a> </p>

</div>
</div>
<a id="ab136fc6d0dbbcb9eb090d27c51bc160c" name="ab136fc6d0dbbcb9eb090d27c51bc160c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab136fc6d0dbbcb9eb090d27c51bc160c">&#9670;&#160;</a></span>treeLeaves()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gsl::span&lt; const <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a> &gt; <a class="el" href="classcstone_1_1GlobalAssignment.html">cstone::GlobalAssignment</a>&lt; <a class="el" href="mesh_8hpp.html#ad29765d017498143e4586d5d86b9f32b">KeyType</a>, T &gt;::treeLeaves </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>read only visibility of the global octree leaves to the outside </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="assignment_8hpp_source.html">assignment.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecstone.html">cstone</a></li><li class="navelem"><a class="el" href="classcstone_1_1GlobalAssignment.html">GlobalAssignment</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
